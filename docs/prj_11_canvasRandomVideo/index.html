<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>canvas random test</title>
<style type="text/css">
	body {
		margin: 0px;
		overflow:  hidden;
		height: 100vh;
		width: 100vw;
	}
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<script type="text/javascript">
	var canvas = document.getElementById("canvas");
	var context = canvas.getContext("2d");
	canvas.width=document.body.clientWidth;
    canvas.height=document.body.clientHeight;
    
	window.setInterval(function(){
    	var data = context.createImageData(canvas.width,canvas.width);
		for (var y = canvas.height - 1; y >= 0; y--) {
			for (var x = canvas.width - 1; x >= 0; x--) {
				if(Math.round(Math.random())==1){
					var index = (y*data.width+x)*4;  // вычисляем индекс
				    data.data[index] = 0;   // красный
				    data.data[index+1] = 0; // зелёный
				    data.data[index+2] = 0; // синий
				    data.data[index+3] = 255; // явно задаём альфу как 255
				}
			};
		};
		context.putImageData(data,0,0);
	},100);
</script>
</body>